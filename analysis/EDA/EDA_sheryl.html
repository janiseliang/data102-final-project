

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Dataset Description: CDC’s Division of Population Health provides cross-cutting set of &#8212; Data 102 Final Project</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'analysis/EDA/EDA_sheryl';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
  
    <p class="title logo__title">Data 102 Final Project</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    Analysis of Chronic Diseases and Air Quality
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Preprocessing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../preprocessing.html">Data Fetching and Preprocessing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">EDA</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../EDA.html">Exploratory Data Analysis (EDA)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Research Questions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../question1.html">Research Question 1: Diabetes Contributing Factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../question2.html">Research Question 2:</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/UCB-stat-159-s23/project-Group27/main?labpath=main.ipynb/v2/gh/UCB-stat-159-s23/project-Group27/gh-pages?urlpath=lab/tree/analysis/EDA/EDA_sheryl.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/UCB-stat-159-s23/project-Group27" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/analysis/EDA/EDA_sheryl.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Dataset Description: CDC’s Division of Population Health provides cross-cutting set of</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Dataset Description: CDC’s Division of Population Health provides cross-cutting set of</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#possible-columns-and-questions">Possible Columns and Questions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#daily-census-tract-level-pm2-5-concentrations-2011-2014">Daily Census Tract-Level PM2.5 Concentrations, 2011-2014</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-pm2-5">Read data: pm2.5</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-description">Dataset Description:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#date-and-type-manipulation">Date and Type Manipulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-for-each-year">Plot For Each Year</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#daily-census-tract-level-ozone-concentrations-2011-2014">Daily Census Tract-Level Ozone Concentrations, 2011-2014</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># COPY THIS</span>
<span class="kn">from</span> <span class="nn">google.colab</span> <span class="kn">import</span> <span class="n">drive</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">drive</span><span class="o">.</span><span class="n">mount</span><span class="p">(</span><span class="s1">&#39;/content/drive&#39;</span><span class="p">,</span> <span class="n">force_remount</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;/content/drive/MyDrive/Semesters/Semester 8/data102&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mounted at /content/drive
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#@title Imports</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">stats</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>#@title Installing sodapy for loading large datasets
!pip install sodapy
from sodapy import Socrata
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting sodapy
  Downloading sodapy-2.2.0-py2.py3-none-any.whl (15 kB)
Collecting requests&gt;=2.28.1
  Downloading requests-2.28.2-py3-none-any.whl (62 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">62.8/62.8 KB</span> <span class=" -Color -Color-Red">3.1 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hRequirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.9/dist-packages (from requests&gt;=2.28.1-&gt;sodapy) (3.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.9/dist-packages (from requests&gt;=2.28.1-&gt;sodapy) (2022.12.7)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /usr/local/lib/python3.9/dist-packages (from requests&gt;=2.28.1-&gt;sodapy) (1.26.15)
Requirement already satisfied: charset-normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.9/dist-packages (from requests&gt;=2.28.1-&gt;sodapy) (2.0.12)
Installing collected packages: requests, sodapy
  Attempting uninstall: requests
    Found existing installation: requests 2.27.1
    Uninstalling requests-2.27.1:
      Successfully uninstalled requests-2.27.1
Successfully installed requests-2.28.2 sodapy-2.2.0
</pre></div>
</div>
</div>
</div>
<p>#Initial Dataset Probing</p>
<p>#U.S. Chronic Disease Indicators (CDI)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#@title Read data: cdi</span>
<span class="n">cdi</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/cdi.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-15-4d62437e3a99&gt;:2: DtypeWarning: Columns (10) have mixed types. Specify dtype option on import or set low_memory=False.
  cdi = pd.read_csv(&#39;data/cdi.csv&#39;)
</pre></div>
</div>
</div>
</div>
<section id="dataset-description-cdc-s-division-of-population-health-provides-cross-cutting-set-of">
<h1>Dataset Description: CDC’s Division of Population Health provides cross-cutting set of<a class="headerlink" href="#dataset-description-cdc-s-division-of-population-health-provides-cross-cutting-set-of" title="Permalink to this headline">#</a></h1>
<p>124 indicators that were developed by consensus and that allows states and
territories and large metropolitan areas to uniformly define, collect, and
report chronic disease data that are important to public health practice and
available for states, territories and large metropolitan areas</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cdi_topics</span> <span class="o">=</span> <span class="n">cdi</span><span class="p">[</span><span class="s2">&quot;Topic&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">cdi_shape</span> <span class="o">=</span> <span class="n">cdi</span><span class="o">.</span><span class="n">shape</span>
<span class="n">cdi_cols</span> <span class="o">=</span> <span class="n">cdi</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">StratificationCategoryID1</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cdi</span><span class="p">[</span><span class="n">cdi</span><span class="p">[</span><span class="s2">&quot;Topic&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;Overarching Conditions&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-9e52260a-309c-4ac5-8acf-2250ee19ca48">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>YearStart</th>
      <th>YearEnd</th>
      <th>LocationAbbr</th>
      <th>LocationDesc</th>
      <th>DataSource</th>
      <th>Topic</th>
      <th>Question</th>
      <th>Response</th>
      <th>DataValueUnit</th>
      <th>DataValueType</th>
      <th>...</th>
      <th>LocationID</th>
      <th>TopicID</th>
      <th>QuestionID</th>
      <th>DataValueTypeID</th>
      <th>StratificationCategoryID1</th>
      <th>StratificationID1</th>
      <th>StratificationCategoryID2</th>
      <th>StratificationID2</th>
      <th>StratificationCategoryID3</th>
      <th>StratificationID3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>461451</th>
      <td>2001</td>
      <td>2001</td>
      <td>IN</td>
      <td>Indiana</td>
      <td>NVSS, Mortality</td>
      <td>Overarching Conditions</td>
      <td>Life expectancy at birth</td>
      <td>NaN</td>
      <td>Years</td>
      <td>Number</td>
      <td>...</td>
      <td>18</td>
      <td>OVC</td>
      <td>OVC4_1</td>
      <td>NMBR</td>
      <td>OVERALL</td>
      <td>OVR</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>462162</th>
      <td>2015</td>
      <td>2015</td>
      <td>AR</td>
      <td>Arkansas</td>
      <td>NVSS</td>
      <td>Overarching Conditions</td>
      <td>Premature mortality among adults aged 45-64 years</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Number</td>
      <td>...</td>
      <td>5</td>
      <td>OVC</td>
      <td>OVC5_0</td>
      <td>NMBR</td>
      <td>RACE</td>
      <td>HIS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>462254</th>
      <td>2018</td>
      <td>2018</td>
      <td>NM</td>
      <td>New Mexico</td>
      <td>NVSS, Mortality</td>
      <td>Overarching Conditions</td>
      <td>Life expectancy at birth</td>
      <td>NaN</td>
      <td>Years</td>
      <td>Number</td>
      <td>...</td>
      <td>35</td>
      <td>OVC</td>
      <td>OVC4_1</td>
      <td>NMBR</td>
      <td>OVERALL</td>
      <td>OVR</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>462301</th>
      <td>2011</td>
      <td>2011</td>
      <td>CO</td>
      <td>Colorado</td>
      <td>ACS 1-Year Estimates</td>
      <td>Overarching Conditions</td>
      <td>Poverty</td>
      <td>NaN</td>
      <td>%</td>
      <td>Crude Prevalence</td>
      <td>...</td>
      <td>8</td>
      <td>OVC</td>
      <td>OVC3_1</td>
      <td>CRDPREV</td>
      <td>RACE</td>
      <td>WHT</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>462758</th>
      <td>2015</td>
      <td>2015</td>
      <td>ID</td>
      <td>Idaho</td>
      <td>ACS 1-Year Estimates</td>
      <td>Overarching Conditions</td>
      <td>Poverty</td>
      <td>NaN</td>
      <td>%</td>
      <td>Crude Prevalence</td>
      <td>...</td>
      <td>16</td>
      <td>OVC</td>
      <td>OVC3_1</td>
      <td>CRDPREV</td>
      <td>RACE</td>
      <td>HIS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1185429</th>
      <td>2020</td>
      <td>2020</td>
      <td>WY</td>
      <td>Wyoming</td>
      <td>BRFSS</td>
      <td>Overarching Conditions</td>
      <td>Recent activity limitation among adults aged &gt;...</td>
      <td>NaN</td>
      <td>Number</td>
      <td>Age-adjusted Mean</td>
      <td>...</td>
      <td>56</td>
      <td>OVC</td>
      <td>OVC7_2</td>
      <td>AGEADJMEAN</td>
      <td>OVERALL</td>
      <td>OVR</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1185474</th>
      <td>2020</td>
      <td>2020</td>
      <td>WY</td>
      <td>Wyoming</td>
      <td>BRFSS</td>
      <td>Overarching Conditions</td>
      <td>Fair or poor self-rated health status among ad...</td>
      <td>NaN</td>
      <td>%</td>
      <td>Crude Prevalence</td>
      <td>...</td>
      <td>56</td>
      <td>OVC</td>
      <td>OVC6_1</td>
      <td>CRDPREV</td>
      <td>RACE</td>
      <td>OTH</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1185478</th>
      <td>2020</td>
      <td>2020</td>
      <td>WY</td>
      <td>Wyoming</td>
      <td>BRFSS</td>
      <td>Overarching Conditions</td>
      <td>Current lack of health insurance among adults ...</td>
      <td>NaN</td>
      <td>%</td>
      <td>Age-adjusted Prevalence</td>
      <td>...</td>
      <td>56</td>
      <td>OVC</td>
      <td>OVC1_1</td>
      <td>AGEADJPREV</td>
      <td>RACE</td>
      <td>BLK</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1185497</th>
      <td>2020</td>
      <td>2020</td>
      <td>WY</td>
      <td>Wyoming</td>
      <td>BRFSS</td>
      <td>Overarching Conditions</td>
      <td>Self-rated health status among women aged 18-4...</td>
      <td>NaN</td>
      <td>%</td>
      <td>Crude Prevalence</td>
      <td>...</td>
      <td>56</td>
      <td>OVC</td>
      <td>OVC6_2</td>
      <td>CRDPREV</td>
      <td>RACE</td>
      <td>HIS</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1185551</th>
      <td>2020</td>
      <td>2020</td>
      <td>WY</td>
      <td>Wyoming</td>
      <td>BRFSS</td>
      <td>Overarching Conditions</td>
      <td>Recent activity limitation among adults aged &gt;...</td>
      <td>NaN</td>
      <td>Number</td>
      <td>Mean</td>
      <td>...</td>
      <td>56</td>
      <td>OVC</td>
      <td>OVC7_2</td>
      <td>MEAN</td>
      <td>RACE</td>
      <td>OTH</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>73260 rows × 34 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9e52260a-309c-4ac5-8acf-2250ee19ca48')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9e52260a-309c-4ac5-8acf-2250ee19ca48 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9e52260a-309c-4ac5-8acf-2250ee19ca48');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#@title Types of questions in &#39;Question&#39; column for each topic</span>

<span class="n">cdi_q_topics</span> <span class="o">=</span> <span class="n">cdi</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Topic&quot;</span><span class="p">)[</span><span class="s2">&quot;Question&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">cdi_topics</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="s2">&quot;: &quot;</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">cdi_q_topics</span><span class="p">[</span><span class="n">topic</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   &quot;</span><span class="p">,</span> <span class="n">question</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Asthma : 
    Hospitalizations for asthma
    Asthma mortality rate
    Emergency department visit rate for asthma
    Asthma prevalence among women aged 18-44 years
    Current asthma prevalence among adults aged &gt;= 18 years
    Influenza vaccination among noninstitutionalized adults aged &gt;= 65 years with asthma
    Influenza vaccination among noninstitutionalized adults aged 18-64 years with asthma
    Pneumococcal vaccination among noninstitutionalized adults aged 18-64 years with asthma
    Pneumococcal vaccination among noninstitutionalized adults aged &gt;= 65 years with asthma
Cancer : 
    Cancer of the oral cavity and pharynx, mortality
    Cancer of the prostate, mortality
    Invasive cancer (all sites combined), mortality
    Cancer of the female breast, mortality
    Cancer of the female cervix, mortality
    Cancer of the colon and rectum (colorectal), mortality
    Cancer of the lung and bronchus, mortality
    Invasive melanoma, incidence
    Melanoma, mortality
    Invasive cancer of the oral cavity or pharynx, incidence
    Invasive cancer of the prostate, incidence
    Invasive cancer (all sites combined), incidence
    Invasive cancer of the female breast, incidence
    Invasive cancer of the cervix, incidence
    Cancer of the colon and rectum (colorectal), incidence
    Cancer of the lung and bronchus, incidence
    Mammography use among women aged 50-74 years
    Fecal occult blood test, sigmoidoscopy, or colonoscopy among adults aged 50-75 years
    Recent Papanicolaou smear use among women aged 21-44 years
    Papanicolaou smear use among adult women aged 21-65 years
Chronic Kidney Disease : 
    Mortality with end-stage renal disease
    Incidence of treated end-stage renal disease
    Incidence of treated end-stage renal disease attributed to diabetes
    Prevalence of chronic kidney disease among adults aged &gt;= 18 years
Chronic Obstructive Pulmonary Disease : 
    Hospitalization for chronic obstructive pulmonary disease as first-listed diagnosis
    Hospitalization for chronic obstructive pulmonary disease as any diagnosis
    Hospitalization for chronic obstructive pulmonary disease as first-listed diagnosis among Medicare-eligible persons aged &gt;= 65 years
    Hospitalization for chronic obstructive pulmonary disease as any diagnosis among Medicare-eligible persons aged &gt;= 65 years
    Mortality with chronic obstructive pulmonary disease as underlying cause among adults aged &gt;= 45 years
    Mortality with chronic obstructive pulmonary disease as underlying or contributing cause among adults aged &gt;= 45 years
    Emergency department visit rate for chronic obstructive pulmonary disease as first-listed diagnosis
    Emergency department visit rate for chronic obstructive pulmonary disease as any diagnosis
    Prevalence of chronic obstructive pulmonary disease among adults &gt;= 18
    Prevalence of chronic obstructive pulmonary disease among adults &gt;= 45 years
    Prevalence of current smoking among adults &gt;= 45 years with diagnosed chronic obstructive pulmonary disease
    Prevalence of current smoking among adults &gt;= 18 with diagnosed chronic obstructive pulmonary disease
    Pneumococcal vaccination among noninstitutionalized adults aged &gt;= 45 years with chronic obstructive pulmonary disease
    Influenza vaccination among noninstitutionalized adults aged &gt;= 45 years with chronic obstructive pulmonary disease
    Prevalence of activity limitation among adults &gt;= 45 years with diagnosed chronic obstructive pulmonary disease
    Prevalence of activity limitation among adults &gt;= 18 with diagnosed chronic obstructive pulmonary disease
Cardiovascular Disease : 
    Mortality from heart failure
    Hospitalization for heart failure among Medicare-eligible persons aged &gt;= 65 years
    Hospitalization for stroke
    Pre-pregnancy hypertension
    Mortality from total cardiovascular diseases
    Mortality from diseases of the heart
    Mortality from coronary heart disease
    Mortality from cerebrovascular disease (stroke)
    Hospitalization for acute myocardial infarction
    Cholesterol screening among adults aged &gt;= 18 years
    Pneumococcal vaccination among noninstitutionalized adults aged &gt;= 65 years with a history of coronary heart disease
    Influenza vaccination among noninstitutionalized adults aged 18-64 years with a history of coronary heart disease or stroke
    Awareness of high blood pressure among women aged 18-44 years
    High cholesterol prevalence among adults aged &gt;= 18 years
    Taking medicine for high blood pressure control among adults aged &gt;= 18 years with high blood pressure
    Pneumococcal vaccination among noninstitutionalized adults aged 18-64 years with a history of coronary heart disease
    Awareness of high blood pressure among adults aged &gt;= 18 years
    Influenza vaccination among noninstitutionalized adults aged &gt;= 65 years with a history of coronary heart disease or stroke
Diabetes : 
    Mortality due to diabetes reported as any listed cause of death
    Mortality with diabetic ketoacidosis reported as any listed cause of death
    Amputation of a lower extremity attributable to diabetes
    Hospitalization with diabetes as a listed diagnosis
    Prevalence of pre-pregnancy diabetes
    Prevalence of gestational diabetes
    Diabetes prevalence among women aged 18-44 years
    Foot examination among adults aged &gt;= 18 years with diagnosed diabetes
    Dilated eye examination among adults aged &gt;= 18 years with diagnosed diabetes
    Pneumococcal vaccination among noninstitutionalized adults aged 18-64 years with diagnosed diabetes
    Adults with diagnosed diabetes aged &gt;= 18 years who have taken a diabetes self-management course
    Prevalence of depressive disorders among adults aged &gt;= 18 years with diagnosed diabetes
    Glycosylated hemoglobin measurement among adults aged &gt;= 18 years with diagnosed diabetes
    Influenza vaccination among noninstitutionalized adults aged &gt;= 65 years with diagnosed diabetes
    Pneumococcal vaccination among noninstitutionalized adults aged &gt;= 65 years with diagnosed diabetes
    Prevalence of high cholesterol among adults aged &gt;= 18 years with diagnosed diabetes
    Prevalence of diagnosed diabetes among adults aged &gt;= 18 years
    Influenza vaccination among noninstitutionalized adults aged 18-64 years with diagnosed diabetes
    Prevalence of high blood pressure among adults aged &gt;= 18 years with diagnosed diabetes
    Visits to dentist or dental clinic among adults aged &gt;= 18 years with diagnosed diabetes
Disability : 
    Disability among adults aged &gt;= 65 years
Reproductive Health : 
    Folic acid supplementation
    Postpartum checkup
    Timeliness of routine health care checkup among women aged 18-44 years
Tobacco : 
    Sale of cigarette packs
    Amount of tobacco product excise tax
    Cigarette smoking before pregnancy
    Current cigarette smoking among youth
    States that allow stronger local tobacco control and prevention laws
    Current smokeless tobacco use among youth
    States with strong polices that require retail licenses to sell tobacco products
    Proportion of the population protected by a comprehensive smoke-free policy prohibiting smoking in all indoor areas of workplaces and public places, including restaurants and bars
    Secondary schools that have a comprehensive tobacco-free school policy in place
    Percent tobacco revenue to fund at CDC recommended level
    Current smoking among adults aged &gt;= 18 years
    Quit attempts in the past year among current smokers
    Current smokeless tobacco use among adults aged &gt;= 18 years
    Pneumococcal vaccination among noninstitutionalized adults aged &gt;= 65 years who smoke
    Pneumococcal vaccination among noninstitutionalized adults aged 18-64 years who smoke
    Current cigarette smoking among women aged 18-44 years
Alcohol : 
    Chronic liver disease mortality
    Alcohol use before pregnancy
    Alcohol use among youth
    Local authority to regulate alcohol outlet density
    Binge drinking prevalence among youth
    Amount of alcohol excise tax by beverage type (beer)
    Amount of alcohol excise tax by beverage type (wine)
    Amount of alcohol excise tax by beverage type (distilled spirits)
    Commercial host (dram shop) liability laws
    Per capita alcohol consumption among persons aged &gt;= 14 years
    Heavy drinking among adults aged &gt;= 18 years
    Heavy drinking among women aged 18-44 years
    Binge drinking intensity among adults aged &gt;= 18 years who binge drink
    Binge drinking frequency among adults aged &gt;= 18 years who binge drink
    Binge drinking prevalence among adults aged &gt;= 18 years
    Binge drinking prevalence among women aged 18-44 years
Arthritis : 
    Adults aged &gt;= 18 years with arthritis who have taken a class to learn how to manage arthritis symptoms
    Arthritis among adults aged &gt;= 18 years
    Arthritis among adults aged &gt;= 18 years who have diabetes
    Arthritis among adults aged &gt;= 18 years who are obese
    Arthritis among adults aged &gt;= 18 years who have heart disease
    Physical inactivity among adults aged &gt;= 18 years with arthritis
    Work limitation due to arthritis among adults aged 18-64 years who have doctor-diagnosed arthritis
    Fair or poor health among adults aged &gt;= 18 years with arthritis
    Activity limitation due to arthritis among adults aged &gt;= 18 years who have doctor-diagnosed arthritis
    Severe joint pain due to arthritis among adults aged &gt;= 18 years who have doctor-diagnosed arthritis
Nutrition, Physical Activity, and Weight Status : 
    Participation in daily school physical education classes among high school students
    Live births occurring at Baby Friendly Facilities
    Soda consumption among high school students
    Meeting aerobic physical activity guidelines among high school students
    Secondary schools that allow community-sponsored use of physical activity facilities by youth outside of normal school hours
    Infants breastfed at 6 months
    Receiving formula supplementation within the first 2 days of life among breastfed infants
    Mean maternity practices in infant nutrition care (mPINC) score
    Secondary schools that allow students to purchase soda or fruit drinks
    Secondary schools that offer less healthy foods as competitive foods
    Presence of regulations pertaining to screen time in early care and education settings
    Secondary schools that allow students to purchase sports drinks
    State child care regulation supports onsite breastfeeding
    Computer use among high school students
    Television viewing among high school students
    Median daily frequency of vegetable consumption among high school students
    Obesity among high school students
    Presence of regulations pertaining to avoiding sugar in early care and education settings
    Overweight or obesity among high school students
    Median daily frequency of fruit consumption among high school students
    Number of farmers markets per 100,000 residents
    Healthy weight among high school students
    Census tracts with healthier food retailers within � mile of boundary
    Farmers markets that accept Women and Infant Children (WIC) farmers market nutrition program coupons
    Presence of regulations pertaining to serving fruit in early care and education settings
    Presence of regulations pertaining to serving vegetables in early care and education settings
    Farmers markets that accept Supplemental Nutrition Assistance Program (SNAP) benefits
    Overweight or obesity among adults aged &gt;= 18 years
    Obesity among adults aged &gt;= 18 years
    Median daily frequency of vegetable consumption among adults aged &gt;= 18 years
    Median daily frequency of fruit consumption among adults aged &gt;= 18 years
    No leisure-time physical activity among adults aged &gt;= 18 years
    Meeting aerobic physical activity guidelines for additional and more extensive health benefits among adults aged &gt;= 18 years
    Meeting aerobic physical activity guidelines for substantial health benefits among adults aged &gt;= 18 years
    Healthy weight among adults aged &gt;= 18 years
    Meeting aerobic physical activity guidelines for substantial health benefits and for muscle-strengthening activity among adults aged &gt;= 18 years
    Overweight or obesity among women aged 18-44 years
Mental Health : 
    Postpartum depressive symptoms
    Recent mentally unhealthy days among adults aged &gt;= 18 years
    At least 14 recent mentally unhealthy days among women aged 18-44 years
Older Adults : 
    Hospitalization for hip fracture among Medicare-eligible persons aged &gt;= 65 years
    Prevalence of 2 or more chronic conditions among Medicare-enrolled persons aged &gt;= 65 years
    Proportion of older adults aged 50-64 years who are up to date on a core set of clinical preventive services
    Proportion of older adults aged &gt;= 65 years who are up to date on a core set of clinical preventive services
Oral Health : 
    Oral health services at Federally Qualified Health Centers
    Preventive dental care before pregnancy
    Dental visits among children and adolescents aged 1-17 years
    Preventive dental visits among children and adolescents aged 1-17 years
    Population served by community water systems that receive fluoridated drinking water
    All teeth lost among adults aged &gt;= 65 years
    No tooth loss among adults aged 18-64 years
    Visits to dentist or dental clinic among adults aged &gt;= 18 years
    Six or more teeth lost among adults aged &gt;= 65 years
Overarching Conditions : 
    Life expectancy at birth
    Premature mortality among adults aged 45-64 years
    Poverty
    Life expectancy at age 65 years
    High school completion among adults aged 18-24 years
    High school completion among women aged 18-44 years
    Health insurance coverage before pregnancy
    Poverty among women aged 18-44 years
    Gini Index of income inequality
    Current health care coverage among women aged 18-44 years
    Recent activity limitation among adults aged &gt;= 18 years
    Self-rated health status among women aged 18-44 years
    Current lack of health insurance among adults aged 18-64 years
    Recent physically unhealthy days among adults aged &gt;= 18 years
    Fair or poor self-rated health status among adults aged &gt;= 18 years
    Prevalence of sufficient sleep among adults aged &gt;= 18 years
Immunization : 
    Influenza vaccination among noninstitutionalized adults aged &gt;= 18 years
</pre></div>
</div>
</div>
</div>
</section>
<section id="possible-columns-and-questions">
<h1>Possible Columns and Questions<a class="headerlink" href="#possible-columns-and-questions" title="Permalink to this headline">#</a></h1>
<p><strong>Asthma:</strong> [“Hospitalizations for asthma”, “Emergency department visit rate for asthma”, “Current asthma prevalence among adults aged &gt;= 18 years”]</p>
<p><strong>Cancer:</strong> [“Cancer of the lung and bronchus, incidence” , ]</p>
<p><strong>Chronic Obstructive Pulmonary Disease:</strong> [“Prevalence of chronic obstructive pulmonary disease among adults &gt;= 18”, “Prevalence of chronic obstructive pulmonary disease among adults &gt;= 45 years”]</p>
<ul class="simple">
<li><p>do higher pm levels affect adults &gt; 18 more or &gt;45 more
(causal inference - but there could be confounding variables)</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="daily-census-tract-level-pm2-5-concentrations-2011-2014">
<h1>Daily Census Tract-Level PM2.5 Concentrations, 2011-2014<a class="headerlink" href="#daily-census-tract-level-pm2-5-concentrations-2011-2014" title="Permalink to this headline">#</a></h1>
<section id="read-data-pm2-5">
<h2>Read data: pm2.5<a class="headerlink" href="#read-data-pm2-5" title="Permalink to this headline">#</a></h2>
<section id="dataset-description">
<h3>Dataset Description:<a class="headerlink" href="#dataset-description" title="Permalink to this headline">#</a></h3>
<p>This dataset provides modeled predictions of PM2.5 levels from the EPA’s Downscaler model. Data are at the census tract level for 2011-2014. pm25 divided into dfs by year</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">client</span> <span class="o">=</span> <span class="n">Socrata</span><span class="p">(</span><span class="s2">&quot;data.cdc.gov&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="c1">#year queries - aggregate by day</span>
<span class="n">query2014</span> <span class="o">=</span> <span class="s2">&quot;SELECT date, AVG(ds_pm_pred) WHERE year=&#39;2014&#39; GROUP BY date LIMIT 365 &quot;</span>
<span class="n">query2013</span> <span class="o">=</span> <span class="s2">&quot;SELECT date, AVG(ds_pm_pred) WHERE year=&#39;2013&#39; GROUP BY date LIMIT 365 &quot;</span>
<span class="n">query2012</span> <span class="o">=</span> <span class="s2">&quot;SELECT date, AVG(ds_pm_pred) WHERE year=&#39;2012&#39; GROUP BY date LIMIT 366 &quot;</span>
<span class="n">query2011</span> <span class="o">=</span> <span class="s2">&quot;SELECT date, AVG(ds_pm_pred) WHERE year=&#39;2011&#39; GROUP BY date LIMIT 365 &quot;</span>
<span class="c1"># arguments to .get are SQL-style: see https://dev.socrata.com/docs/queries/</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:root:Requests made without an app_token will be subject to strict throttling limits.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#2014</span>
<span class="n">results2014</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fcqm-xrf4&quot;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span> <span class="n">query2014</span><span class="p">)</span>
<span class="n">pm2014</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">results2014</span><span class="p">)</span>
<span class="n">pm2014</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-fd12a572-ffa5-4254-930a-1866cb358fd9">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>AVG_ds_pm_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01APR2014</td>
      <td>7.7537349999308274</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01AUG2014</td>
      <td>13.2792515971943611</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01DEC2014</td>
      <td>8.5755338549866497</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01FEB2014</td>
      <td>14.0431393532365840</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01JAN2014</td>
      <td>18.2290441294633593</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>360</th>
      <td>31JAN2014</td>
      <td>12.6762379771177179</td>
    </tr>
    <tr>
      <th>361</th>
      <td>31JUL2014</td>
      <td>11.5494138639790822</td>
    </tr>
    <tr>
      <th>362</th>
      <td>31MAR2014</td>
      <td>7.4408511597471051</td>
    </tr>
    <tr>
      <th>363</th>
      <td>31MAY2014</td>
      <td>9.0499658907350276</td>
    </tr>
    <tr>
      <th>364</th>
      <td>31OCT2014</td>
      <td>7.5369511864477125</td>
    </tr>
  </tbody>
</table>
<p>365 rows × 2 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-fd12a572-ffa5-4254-930a-1866cb358fd9')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-fd12a572-ffa5-4254-930a-1866cb358fd9 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-fd12a572-ffa5-4254-930a-1866cb358fd9');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#2013</span>
<span class="n">results2013</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fcqm-xrf4&quot;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span> <span class="n">query2013</span><span class="p">)</span>
<span class="n">pm2013</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">results2013</span><span class="p">)</span>
<span class="n">pm2013</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-8f84fdd7-a656-4f48-bd87-faf01942a478">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>AVG_ds_pm_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01APR2013</td>
      <td>6.2612480431083381</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01AUG2013</td>
      <td>9.6180239420057275</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01DEC2013</td>
      <td>15.3211495352987563</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01FEB2013</td>
      <td>7.1819298770111921</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01JAN2013</td>
      <td>12.7210608856854309</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>360</th>
      <td>31JAN2013</td>
      <td>6.0011068710485176</td>
    </tr>
    <tr>
      <th>361</th>
      <td>31JUL2013</td>
      <td>10.6171679537373933</td>
    </tr>
    <tr>
      <th>362</th>
      <td>31MAR2013</td>
      <td>9.6727776171437267</td>
    </tr>
    <tr>
      <th>363</th>
      <td>31MAY2013</td>
      <td>8.9891953830084529</td>
    </tr>
    <tr>
      <th>364</th>
      <td>31OCT2013</td>
      <td>10.1590026797448916</td>
    </tr>
  </tbody>
</table>
<p>365 rows × 2 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-8f84fdd7-a656-4f48-bd87-faf01942a478')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-8f84fdd7-a656-4f48-bd87-faf01942a478 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-8f84fdd7-a656-4f48-bd87-faf01942a478');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#2012-leap year</span>
<span class="n">results2012</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fcqm-xrf4&quot;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span> <span class="n">query2012</span><span class="p">)</span>
<span class="n">pm2012</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">results2012</span><span class="p">)</span>
<span class="n">pm2012</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-0db8391f-cd48-4201-81e0-6381ac37a731">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>AVG_ds_pm_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01APR2012</td>
      <td>10.7582436381998534</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01AUG2012</td>
      <td>10.0582815852966811</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01DEC2012</td>
      <td>13.8310854009933179</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01FEB2012</td>
      <td>11.6899845731361454</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01JAN2012</td>
      <td>11.1504838578918971</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>361</th>
      <td>31JAN2012</td>
      <td>9.6617873444655036</td>
    </tr>
    <tr>
      <th>362</th>
      <td>31JUL2012</td>
      <td>9.5620479877702918</td>
    </tr>
    <tr>
      <th>363</th>
      <td>31MAR2012</td>
      <td>9.1990736964431471</td>
    </tr>
    <tr>
      <th>364</th>
      <td>31MAY2012</td>
      <td>8.3275487648548068</td>
    </tr>
    <tr>
      <th>365</th>
      <td>31OCT2012</td>
      <td>6.8945880204197391</td>
    </tr>
  </tbody>
</table>
<p>366 rows × 2 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0db8391f-cd48-4201-81e0-6381ac37a731')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0db8391f-cd48-4201-81e0-6381ac37a731 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0db8391f-cd48-4201-81e0-6381ac37a731');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#2011</span>
<span class="n">results2011</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;fcqm-xrf4&quot;</span><span class="p">,</span> <span class="n">query</span><span class="o">=</span> <span class="n">query2011</span><span class="p">)</span>
<span class="n">pm2011</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">results2011</span><span class="p">)</span>
<span class="n">pm2011</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-fbc965c9-11a1-4977-8d37-444838f503ca">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>AVG_ds_pm_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>01APR2011</td>
      <td>10.0384188533126738</td>
    </tr>
    <tr>
      <th>1</th>
      <td>01AUG2011</td>
      <td>11.7210691592767317</td>
    </tr>
    <tr>
      <th>2</th>
      <td>01DEC2011</td>
      <td>8.7082993572070888</td>
    </tr>
    <tr>
      <th>3</th>
      <td>01FEB2011</td>
      <td>10.8834107739164119</td>
    </tr>
    <tr>
      <th>4</th>
      <td>01JAN2011</td>
      <td>14.0473418859206176</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>360</th>
      <td>31JAN2011</td>
      <td>11.2540195343995130</td>
    </tr>
    <tr>
      <th>361</th>
      <td>31JUL2011</td>
      <td>10.0449955374984436</td>
    </tr>
    <tr>
      <th>362</th>
      <td>31MAR2011</td>
      <td>9.6644030600279457</td>
    </tr>
    <tr>
      <th>363</th>
      <td>31MAY2011</td>
      <td>11.9555621794474496</td>
    </tr>
    <tr>
      <th>364</th>
      <td>31OCT2011</td>
      <td>11.2716649591605218</td>
    </tr>
  </tbody>
</table>
<p>365 rows × 2 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-fbc965c9-11a1-4977-8d37-444838f503ca')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-fbc965c9-11a1-4977-8d37-444838f503ca button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-fbc965c9-11a1-4977-8d37-444838f503ca');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
</section>
</section>
<section id="date-and-type-manipulation">
<h2>Date and Type Manipulation<a class="headerlink" href="#date-and-type-manipulation" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="c1">#2014</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z]+)&#39;</span><span class="p">)</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;JAN&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;MAY&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">})</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+)[A-Z]&#39;</span><span class="p">)</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[A-Z](\d+)&#39;</span><span class="p">)</span>
<span class="n">pm2014</span> <span class="o">=</span> <span class="n">pm2014</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">})</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;date2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="o">+</span><span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="n">pm2014</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">],</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">pm2014</span> <span class="o">=</span> <span class="n">pm2014</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;date2&quot;</span><span class="p">)</span>

<span class="c1">#2013</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z]+)&#39;</span><span class="p">)</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;JAN&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;MAY&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">})</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+)[A-Z]&#39;</span><span class="p">)</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[A-Z](\d+)&#39;</span><span class="p">)</span>
<span class="n">pm2013</span> <span class="o">=</span> <span class="n">pm2013</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">})</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;date2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="o">+</span><span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="n">pm2013</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">],</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">pm2013</span> <span class="o">=</span> <span class="n">pm2013</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;date2&quot;</span><span class="p">)</span>

<span class="c1">#2012</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z]+)&#39;</span><span class="p">)</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;JAN&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;MAY&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">})</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+)[A-Z]&#39;</span><span class="p">)</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[A-Z](\d+)&#39;</span><span class="p">)</span>
<span class="n">pm2012</span> <span class="o">=</span> <span class="n">pm2012</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">})</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;date2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="o">+</span><span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="n">pm2012</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">],</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">pm2012</span> <span class="o">=</span> <span class="n">pm2012</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;date2&quot;</span><span class="p">)</span>

<span class="c1">#2011</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;([A-Z]+)&#39;</span><span class="p">)</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">({</span><span class="s2">&quot;JAN&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;FEB&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;MAR&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;APR&quot;</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;MAY&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;JUN&quot;</span><span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="s2">&quot;JUL&quot;</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="s2">&quot;AUG&quot;</span><span class="p">:</span><span class="mi">8</span><span class="p">,</span> <span class="s2">&quot;SEP&quot;</span><span class="p">:</span><span class="mi">9</span><span class="p">,</span> <span class="s2">&quot;OCT&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;NOV&quot;</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span> <span class="s2">&quot;DEC&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">})</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+)[A-Z]&#39;</span><span class="p">)</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[A-Z](\d+)&#39;</span><span class="p">)</span>
<span class="n">pm2011</span> <span class="o">=</span> <span class="n">pm2011</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s2">&quot;day&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span><span class="nb">int</span><span class="p">})</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;date2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">10000</span><span class="o">+</span><span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="o">+</span><span class="n">pm2011</span><span class="p">[</span><span class="s2">&quot;day&quot;</span><span class="p">],</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y%m</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">pm2011</span> <span class="o">=</span> <span class="n">pm2011</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;date2&quot;</span><span class="p">)</span>

<span class="c1">#agg</span>
<span class="n">monthly_pmavg_2014</span> <span class="o">=</span> <span class="n">pm2014</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]]</span>
<span class="n">monthly_pmavg_2013</span> <span class="o">=</span> <span class="n">pm2013</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]]</span>
<span class="n">monthly_pmavg_2012</span> <span class="o">=</span> <span class="n">pm2012</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]]</span>
<span class="n">monthly_pmavg_2011</span> <span class="o">=</span> <span class="n">pm2011</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()[[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="plot-for-each-year">
<h2>Plot For Each Year<a class="headerlink" href="#plot-for-each-year" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#2014 graph</span>
<span class="n">x1</span> <span class="o">=</span> <span class="n">monthly_pmavg_2014</span><span class="o">.</span><span class="n">index</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">monthly_pmavg_2014</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span>

<span class="c1">#2013 graph</span>
<span class="n">x2</span> <span class="o">=</span> <span class="n">monthly_pmavg_2013</span><span class="o">.</span><span class="n">index</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">monthly_pmavg_2013</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span>

<span class="c1">#2012 graph</span>
<span class="n">x3</span> <span class="o">=</span> <span class="n">monthly_pmavg_2012</span><span class="o">.</span><span class="n">index</span>
<span class="n">y3</span> <span class="o">=</span> <span class="n">monthly_pmavg_2012</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span>

<span class="c1">#2011 graph</span>
<span class="n">x4</span> <span class="o">=</span> <span class="n">monthly_pmavg_2011</span><span class="o">.</span><span class="n">index</span>
<span class="n">y4</span> <span class="o">=</span> <span class="n">monthly_pmavg_2011</span><span class="p">[</span><span class="s2">&quot;AVG_ds_pm_pred&quot;</span><span class="p">]</span>

<span class="c1">#plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Average PM2.5 monthly predictions for 2014&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;tab:orange&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Average PM2.5 monthly predictions for 2013&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="s1">&#39;tab:green&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Average PM2.5 monthly predictions for 2012&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x4</span><span class="p">,</span> <span class="n">y4</span><span class="p">,</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Average PM2.5 monthly predictions for 2011&quot;</span><span class="p">)</span>

    
<span class="c1"># set x ticks and labels</span>
<span class="k">for</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">axs</span><span class="o">.</span><span class="n">flat</span><span class="p">:</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;AVG PM2.5 prediction&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>

<span class="c1">#fix padding</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                    <span class="n">bottom</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
                    <span class="n">right</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                    <span class="n">top</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
                    <span class="n">wspace</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
                    <span class="n">hspace</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_figheight</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">set_figwidth</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/7b09f95de792881c624f50ba18c476d6f84f7d8dae82ecdf3c5da7a612296e09.png" src="../../_images/7b09f95de792881c624f50ba18c476d6f84f7d8dae82ecdf3c5da7a612296e09.png" />
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="daily-census-tract-level-ozone-concentrations-2011-2014">
<h1>Daily Census Tract-Level Ozone Concentrations, 2011-2014<a class="headerlink" href="#daily-census-tract-level-ozone-concentrations-2011-2014" title="Permalink to this headline">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#size issue - so taken from janise</span>
<span class="c1">#ozone only from year 2014</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Socrata</span><span class="p">(</span><span class="s2">&quot;data.cdc.gov&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
  <span class="s2">&quot;372p-dx3h&quot;</span><span class="p">,</span>
  <span class="n">where</span><span class="o">=</span><span class="s2">&quot;`date` = &#39;01JAN2014&#39;&quot;</span><span class="p">,</span>
  <span class="n">limit</span><span class="o">=</span><span class="mi">100000</span>
<span class="p">)</span>

<span class="n">ozone</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1">#shape</span>
<span class="n">shape</span> <span class="o">=</span> <span class="n">ozone</span><span class="o">.</span><span class="n">shape</span>
<span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WARNING:root:Requests made without an app_token will be subject to strict throttling limits.
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(72283, 9)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#Possible Research Questions</span>
<span class="c1">#effect of ozone + pm levels over time on incidence of pul &amp; their respective effect on pul</span>
<span class="c1">#versus another disease - asthma</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#read diabetes data for eda</span>
<span class="n">diabetes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/categorical_diabetes.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#drop unecessary columns</span>
<span class="n">diabetes</span> <span class="o">=</span> <span class="n">diabetes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;male&quot;</span><span class="p">,</span> <span class="s2">&quot;female&quot;</span><span class="p">,</span> <span class="s2">&quot;State&quot;</span><span class="p">])</span>

<span class="c1">#no data rows + drop guam, puerto rico - only 50 states</span>
<span class="n">diabetes</span> <span class="o">=</span> <span class="n">diabetes</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">51</span><span class="p">,</span> <span class="mi">52</span><span class="p">,</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">54</span><span class="p">])</span>

<span class="c1"># convert to float</span>
<span class="n">diabetes</span> <span class="o">=</span> <span class="n">diabetes</span><span class="o">.</span><span class="n">astype</span><span class="p">({</span><span class="s1">&#39;18-44&#39;</span><span class="p">:</span><span class="s1">&#39;float&#39;</span><span class="p">,</span><span class="s1">&#39;45-64&#39;</span><span class="p">:</span><span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;65-74&#39;</span><span class="p">:</span><span class="s1">&#39;float&#39;</span><span class="p">,</span> <span class="s1">&#39;75+&#39;</span><span class="p">:</span><span class="s1">&#39;float&#39;</span><span class="p">})</span>
<span class="n">diabetes</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-e9a56605-91c5-417a-8e46-8608764db9f9">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>18-44</th>
      <th>45-64</th>
      <th>65-74</th>
      <th>75+</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.8</td>
      <td>17.8</td>
      <td>24.3</td>
      <td>21.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.8</td>
      <td>10.3</td>
      <td>21.3</td>
      <td>21.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.8</td>
      <td>14.0</td>
      <td>21.8</td>
      <td>18.7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3.9</td>
      <td>17.9</td>
      <td>24.7</td>
      <td>22.8</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2.9</td>
      <td>15.4</td>
      <td>21.5</td>
      <td>22.5</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e9a56605-91c5-417a-8e46-8608764db9f9')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e9a56605-91c5-417a-8e46-8608764db9f9 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e9a56605-91c5-417a-8e46-8608764db9f9');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  </div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#plot Diabetes Prevalence per Age Group across 50 U.S States</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;variable&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">diabetes</span><span class="p">));</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Percentage of Diagnosed Diabetes per Age Group across 50 U.S States&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;percentage of diagnosed diabetes&quot;</span><span class="p">);</span>

<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">2</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/3f989f6f2aa8aaf039c0b300f1e69d2ae0c7a6b3fd291b1c3b2fa22292dc98ba.png" src="../../_images/3f989f6f2aa8aaf039c0b300f1e69d2ae0c7a6b3fd291b1c3b2fa22292dc98ba.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#stack overflow example of melt</span>
<span class="c1"># import numpy as np; np.random.seed(42)</span>
<span class="c1"># import pandas as pd</span>
<span class="c1"># import matplotlib.pyplot as plt</span>
<span class="c1"># import seaborn as sns</span>

<span class="c1"># df = pd.DataFrame(data = np.random.random(size=(4,4)), columns = [&#39;A&#39;,&#39;B&#39;,&#39;C&#39;,&#39;D&#39;])</span>
<span class="c1"># sns.boxplot(x=&quot;variable&quot;, y=&quot;value&quot;, data=pd.melt(df))</span>

<span class="c1"># plt.show()</span>
</pre></div>
</div>
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./analysis/EDA"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Dataset Description: CDC’s Division of Population Health provides cross-cutting set of</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#possible-columns-and-questions">Possible Columns and Questions</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#daily-census-tract-level-pm2-5-concentrations-2011-2014">Daily Census Tract-Level PM2.5 Concentrations, 2011-2014</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-data-pm2-5">Read data: pm2.5</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-description">Dataset Description:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#date-and-type-manipulation">Date and Type Manipulation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-for-each-year">Plot For Each Year</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#daily-census-tract-level-ozone-concentrations-2011-2014">Daily Census Tract-Level Ozone Concentrations, 2011-2014</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jeffrey Fan, Leah Hong, Janise Liang, and Nick Melamed (Group 27)
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>